A minimalistic webapp plugin for sbt

To build this code, get and install SBT from 
    https://github.com/sbt/sbt

Get and install these plugins before building:
    https://github.com/ritschwumm/xsbt-util
    https://github.com/ritschwumm/xsbt-classpath

Build and publish the plugin:
    git clone git@github.com:ritschwumm/xsbt-webapp.git
    cd xsbt-webapp
    sbt publish-local
    
Add the plugin to your project in project/plugins.sbt:
    addSbtPlugin("de.djini" % "xsbt-webapp" % <version>)
    
Include the plugin in your project's build.sbt:

    webappSettings
    
Run the webapp task to get a web application directory.

If you need a war file include xsbt-zipper from
     https://github.com/ritschwumm/xsbt-classpath
and add something like this to your build.sbt:

    // webapp::zipper
    inTask(webappBuild)(zipperSettings ++ Seq(
        zipperFiles     := selectSubpaths(webappBuild.value, AllPassFilter).toSeq,
        zipperPrefix    := None,
        zipperExtension := ".war"
    ))
    
    // alias for webapp::zipper
    TaskKey[File]("war")    := (zipperBuild in webappBuild).value

Then run the war task to get a zipped up war file.

Resource libraries can be added like this:

    libraryDependencies += "com.test" % "foobar" % "0.1.0" % "webapp"
    
To deploy the webapp to a servlet conttf.e. tomcat, include something like this in the build.sbt:
    
    webappDeployName    := "ROOT"
    
    webappDeployBase    :=
            Option(System getenv "CATALINA_HOME")
            .map        (file)
            .map        { _ / "webapps" }
            .filter     { _.isDirectory }
            
Then run the webapp-deploy task; it will first delete $CATALINA_HOME/webapps/ROOT 
and $CATALINA_HOME/webapps/ROOT.war and then copy an exploded webpp directory to 
$CATALINA_HOME/webapps/ROOT .
